<div class="container-fluid w-100">

    <div class="container-fluid w-100">
        <app-navbar></app-navbar>
    </div>

    <div class="container-fluid d-flex justify-content-center">
        <h1>User Profile</h1>
    </div>

    <div class="row">
        <div class="col-md-4 d-flex justify-content-center">
            
            <img [src]="profilePic" class="rounded-circle" width="200" height="200">

        </div>
        <div class="col-md-6">

            <div class="col-md-12 d-flex justify-content-center">
                <form class="form-floating w-100 mt-2" onkeydown="if(event.keyCode === 13) {return false;}">
                    <input type="text" class="form-control" id="username" 
                        [value]="username" [disabled]="username_disabled"
                        (input) = "editUserName($event)">
                    <label for="username">Username</label>
                </form>
                <i [class]="username_disabled? allow_edit_url : disable_edit_url"
                style="cursor:pointer"
                (click) = "toggleEditUsername()"></i>
            </div>

            <div class="col-md-12 d-flex mt-2 gap-2">
                <form class="form-floating w-50 mt-2" onkeydown="if(event.keyCode === 13) {return false;}">
                    <input type="text" class="form-control" id="firstName" [value]="firstName" [disabled] = "firstname_disabled"
                    (input) = "editFirstName($event)">
                    <label for="firstName">Given Name</label>
                </form>
                <i [class]="firstname_disabled ? allow_edit_url : disable_edit_url"
                style="cursor:pointer"
                (click) = "toggleEditFirstName()"></i>
                
                <form class="form-floating w-50 mt-2" onkeydown="if(event.keyCode === 13) {return false;}">
                    <input type="text" class="form-control" id="lastName" [value]="lastName" [disabled] = "lastname_disabled"
                    (input) = "editLastName($event)">
                    <label for="lastName">Family Name</label>
                </form>
                <i [class]="lastname_disabled ? allow_edit_url : disable_edit_url"
                style="cursor:pointer"
                (click) = "toggleEditLastName()"></i>

            </div>

            <div class="col-md-12 d-flex mt-2 gap-2">
                <form class="form-floating w-50 mt-2">
                    <input type="email" class="form-control" id="age" [value]="age" disabled>
                    <label for="age">Age (in years)</label>
                </form>
                <form class="form-floating w-50 mt-2">
                    <input type="email" class="form-control" id="gender" [value]="gender" disabled>
                    <label for="gender">Gender</label>
                </form>
            </div>
            <div class="col-md-12 d-flex mt-3">
                <div class="input-group mb-3">
                    <label class="input-group-text" for="profile">Upload a Profie Pic:</label>
                    <input type="file" class="form-control" id="profile"  accept=".jpg, .png, .jpeg" (change)="updateProfilePic($event)">
                    <button class="btn btn-outline-warning" type="button" id="profilePicButton" (click)="saveProfilePic()">Save Profile Pic</button>
                  </div>
            </div>

            <div class="col-md-12 d-flex">
                <div class="col-md-6 d-flex justify-content-center mt-2 w-50">
                    <button class="btn btn-outline-success" (click) = "saveChanges()">
                        Save Changes
                    </button>
                </div>
                <div class="col-md-6 d-flex justify-content-center mt-2 w-50">
                    <button class="btn btn-outline-danger">
                        Cancel Changes
                    </button>
                </div>
            </div>

            <div *ngIf="type == 'seller'" class="col-md-12 mt-2">
                <h3>Your Added Items</h3>
                <div class="d-flex gap-2">
                    @for(item of items_list ; track item) {
                        <div class="card" style="width: 18rem;">
                            <img [src]="item[8]" class="card-img-top" alt="..." height = "100" width = "40">
                            <div class="card-body">
                              <h5 class="card-title"> {{item[0]}} <span class="badge text-bg-primary">{{item[1]}}</span></h5>
                              <div class="card-text">
                                <!-- <p>{{ item[5] }}</p> -->
                                <span><strong>Type: </strong>{{ item[4] }}</span><br>
                                <span><strong>Price: </strong>{{ item[3] }}</span><br>
                                <span><strong>Quantity: </strong>{{ item[2] }}</span>
                                
                              </div>
                              <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                            </div>
                          </div>
                    }
                </div>
                
            </div>

        </div>
    </div>

</div>